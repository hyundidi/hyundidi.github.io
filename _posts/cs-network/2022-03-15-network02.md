---
title:  "[모두의 네트워크] 2장 네트워크 기본규칙"
excerpt: ""

categories:
  - Network
tags:
  - [Network, 모두의 네트워크]

toc: true
toc_sticky: true
 
date: 2022-03-15
last_modified_at: 2022-03-16
---

네트워크 통신의 기본 규칙인 프로토콜에 대해 알아보자!

*********************
# ✏️ Lesson 06 네트워크의 규칙
## ✔️ 프로토콜이란?
: 통신을 하기 위한 **규칙**이다.

- 편지 전달에 비유해보자.
  > 1. 편지를 쓴다.
  > 2. 편지를 우체통에 넣는다
  > 3. 우편배달부가 편지를 수거한다.
  > 4. 수거한 편지를 우체국으로 가져간다.
  > 5. 편지를 분류한다.
  > 6. 우편배달부가 수신처에 가까운 우체국으로 편지를 운송한다.
  > 7. 운송된 편지를 수신처의 우편함에 넣는다.
  > 8. 우편함에서 편지를 찾는다
  > 9. 편지를 읽는다.  

`'2. 편지를 우체통에 넣는다'`단계에서 우표를 안붙이거나 주소를 안쓰면 2번 절차에 문제가 생긴다.  
이렇듯 절차 별로 각각의 지켜야할 규칙이 있고, 절차별로 존재하는 규칙들은 **서로 영향을 주지 않는다**.

## 📄 Lesson 6 정리
- 통신하기 위한 규칙을 프로토콜이라고 한다.
- 불어를 못하는 한국인과 한국어를 못하는 프랑스인이라면 영어로 대화한다는 규칙을 정해서 대화 할 수 있다.
- 편지를 배송하기 위해서는 편지를 쓸 때부터 상대방에게 도착 할 때까지 지켜야하는 독립적인 여러 규칙을 거쳐야한다. 

*************
<br/><br/><br/><br/>

# ✏️ Lesson 07 OSI 모델과 TCP/IP 모델

## ✔️ OSI 모델이란?

### 1. 역사
예전에는 같은 회사의 컴퓨터끼리만 통신이 가능했다.  
그래서 ISO<span style = " font-size:0.8em; color: gray;">(International Organization for Standardization)</span>가 공통으로 사용할 수 있는 **OSI**모델이라는 표준 규격을 제정했다.

### 2. OSI모델의 7계층  

```
+-------+--------------------+------------------------------------------------------------------------+
| 계층  |        이름        |                               설명                                     |
+-------+--------------------+------------------------------------------------------------------------+
| 7계층 |  응용 계층         |  이메일, 파일전송, 웹사이트 조회 등 어플리케이션에 대한 서비스 제공    |  
| 6계층 |  표현 계층         |  문자 코드, 압축, 암호화 등의 데이터 변환                              |  
| 5계층 |  세션 계층         |  세션 체결, 통신 방식 결정                                             |  
| 4계층 |  전송 계층         |  신뢰할 수 있는 통신 구현                                              |  
| 3계층 |  네트워크 계층     |  다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소 결정             |  
| 2계층 |  데이터 링크 계층  |  네트워크 기기 간의 데이터 전송 및 물리 주소 결정                      |  
| 1계층 |  물리 계층         |  시스템간 물리적인 연결과 전기 신호 변환 및 제어                       |
+-------+--------------------+------------------------------------------------------------------------+
```

### 3. 데이터 송수신  

```
                    상위계층----------------------->------------------------>하위계층
        송신 측  >---(응용)--(표현)--(세션)--(전송)--(네트워크)--(데이터링크)--(물리)--+
                                                                                       ↓
                                                                                       DATA
                                                                                       ↓
        수신 측  <---(응용)--(표현)--(세션)--(전송)--(네트워크)--(데이터링크)--(물리)--+
                  상위계층<----------------------<-------------------------하위계층
```

## ✔️ TCP/IP 모델이란?
- OSI 7계층을 4계층으로 바꿔서 생각하면 된다.
<span style = " font-size:0.8em; color: gray;">TODO: tcp/ip 약자</span>  

```
+----------------------+----------------------+  
|       OSI 모델       |      TCP/IP 모델     |
+----------------------+----------------------+
|  7 응용 계층         |                      |  
|  6 표현 계층         |      응용 계층       |  
|  5 세션 계층         |                      |
+----------------------+----------------------+
|  4 전송 계층         |      전송 계층       | 
+----------------------+----------------------+
|  3 네트워크 계층     |     인터넷 계층      |
+----------------------+----------------------+  
|  2 데이터 링크 계층  |  네트워크 접속 계층  |  
|  1 물리 계층         |                      |
+----------------------+----------------------+  
```

## 📄 Lesson 7 정리
- ISO(국제 표준화 기구)에서 OSI모델을 제정했다.
- OSI모델은 7계층으로 위에서부터 응용,표현,세션,전송,네트워크,데이터링크,물리 계층이다.
- 현재는 TCP/IP 모델을 사용한다. OSI모델은 7계층이지만 TCP/IP는 4계층이다.   
  위에서부터 응용, 전송, 인터넷, 네트워크 접속 계층이다.

*************
<br/><br/><br/><br/>

# ✏️ Lesson 08 캡슐화와 역캡슐화

## ✔️ 캡슐화와 역캡슐화란?

### 1. 캡슐화
- 헤더를 붙여나가는 것
    - 헤더 : 다음 계층으로 보낼 때 전송 시 필요한 정보를 데이터 앞에 붙인 것
            데이터를 전달받을 상대의 정보도 포함되어 있음.

### 2. 역캡슐화
- 헤더를 제거해 나가는 것

### 3. 데이터 전달 흐름
```
✔️ 일반적으로 5계층(세션계층), 6계층(표현계층)은   7계층(응용계층)에 포함되어 생각 할 수 있다.

                                        데이터 송신부                                                    데이터 수신부
응용계층                           (웹사이트 요청데이터)                      ↓                   ↑   (웹사이트 요청 데이터)
------------------------------------------------------------------------------↓ 캡             역 ↑---------------------------------------------
전송계층                      [전송계층헤더]--> (데이터)                      ↓ 슐             캡 ↑   [전송계층헤더]<-- (데이터)
------------------------------------------------------------------------------↓ 화             슐 ↑----------------------------------------------
네트워크계층        [네트워크계층헤더]--> (헤더)(데이터)                      ↓                화 ↑   [네트워크계층헤더]<-- (헤더)(데이터)
------------------------------------------------------------------------------↓                   ↑----------------------------------------------
데이터링크계층  [데이터링크계층]--> (헤더)(헤더)(데이터) <--[데이터링크계층]  ↓                   ↑   [데이터링크계층]<-- (헤더)(헤더)(데이터) -->[데이터링크계층]
                      헤더                                      트레일러      ↓                   ↑        헤더                                      트레일러
------------------------------------------------------------------------------↓-------------------↑----------------------------------------------   
물리계층                                                                      +-->전기신호 변환>--+ 
                                                                         (헤더)(헤더)(헤더)(데이터)(트레일러)
🤔 트레일러 : 데이터에 전달할때 마지막에 추가하는 정보
🤔 [데이터링크계층 헤더][네트워크계층 헤더][전송계층 헤더][웹사이트 요청데이터][데이터링크계층 트레일러] 가 전기신호로 변환되어 수신측에 도착.
```

## ✔️ 보강 :  VPN (Virtualized Private Network)
VPN은 가상 사설망이다.  
가상 통신 터널을 만들어 기업본사나 지사와 같은 거점간을 연결하여 통신하거나 외부에서 인터넷으로 사내에 접속하는 것을 말한다.  

서울 본사와 부산 지사간에는 물리적인 거리때문에 내부 랜으로 연결하기가 어렵다.  
이럴 때 VPN을 사용해 본사와 지사를 연결하여 통신할 수 있다.  

### 1. 인터넷 VPN
거점 간 접속, 원격 접속 연결 방식이 있다.  
둘 다 일반 인터넷망을 사용한다.  
거점 간 접속은 IPsec라는 암호 기술 프로토콜을 사용한다.  
원격 접속 연결은 외부에서 사용하는 컴퓨터와 사내 네트워크를 연결하기 때문에 암호화된 통신로를 만든다.  
```
             +--------인터넷--------+ 
         <-- | +------------------+ | ------접속------> 본사(서울)
   본사      | |   가상통신터널   | |
         <-- | +------------------+ | <-----접속------- 본사(외부)
             +----------------------+ 
```  

### 2. IP-VPN
MPLS라는 기술을 사용하며 인터넷 망이 아닌 통신사업자 전용 폐쇄망을 사용 한다.  
따라서 제 3자에 의한 해킹이나 데이터 변조의 위험이 없어 암호화 기능이 필요 없다.

## 📄 Lesson 8 정리
- 데이터를 보낼 때는 필요한 정보를 데이터에 추가 해야 하는데 이 정보를 헤더 라고 한다.
- 데이터를 상대방에게 보낼 때 가게 층에서 헤더 및 트레일러를 붙여 나가는 것을 캡슐화라고 한다.
- 데이터를 수신할 때 각 계층에서 헤드 및 트레일러를 제거해 나가는 것을 역캡슐화라고 한다.
- OSI 모델에서 데이터 송신 측은 응용 > 전송 > 네트워크 > 데이터 링크 계층 순서로 캡슐화한다.
- OSI 모델에서 데이터 수신 측은 데이터링크 > 네트워크 > 전송 > 응용 계층 순서로 역캡슐화한다.
- 송신 측의 데이터 링크 계층에서 만들어진 데이터가 전기 신호로 변환되어 수신 측에 전송된다.  

*************
<br/><br/><br/><br/>

# 👩‍🏫 2장 키워드 정리
- **프로토콜(protocol)** :  
  컴퓨터 간에 정보를 주고 받을 때 통신 방법에 대한 규칙이나 표준
- **OSI모델 (Open Standards Interconnection model)** :  
  국제 표준화 기구(ISO)가 1977년에 정의한 국제 통신 표준 규약이다.  
  네트워크의 기본구조를 일곱 개 계층으로 나누어서 표준화한 통신 규약으로 현재 다른 모든 통신 규약의 기반이 된다.
- **TCP/IP 모델(Transmission Control Protocol/Internet Protocol model)** :  
  OSI 모델 7계층의 네트워크에서 데이터를 전송하는 과정을 4계층으로 단순화하여 사용하는 모델이다.  
  인터넷 모델이라고도 한다.
- **캡슐화/역캡슐화(encapsulation/ decapsulation)** :  
  캡슐화는 컴퓨터 통신에서 상위 계층의 통신 프로토콜 정보를 데이터에 추가하여 하위 계층으로 전송하는 기술이다.  
  반대로 역캡슐화는 상위계층의 프로토콜에서 하위계층에서 추가된 정보와 데이터를 분리하는 기술이다.
- **헤더(header)** :  
  저장되거나 전성되는 데이터의 맨 앞에 위치하는 추가적인 정보 데이터이다.  
  데이터의 내용이나 성격을 식별 또는 제어하는데 사용한다.